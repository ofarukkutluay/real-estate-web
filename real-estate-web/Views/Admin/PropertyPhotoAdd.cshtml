@model PropertyPhotoVM



<section class="section dashboard">
        <div class="container">
            <div class="row">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Fotoğraf ekle</h5>
                        @if(Model.PropertyPhotos is not null){

                        
                        <form class="needs-validation" asp-action="AddDbPropertyPhoto" method="post" enctype="multipart/form-data">
                            <div class="row mb-3">
                                <label class="col-sm-2 col-form-label">Fotoğraflar</label>
                                <div class="col-sm-2">
                                    <p>@Model.PropertyPhotos.Count() adet yüklü</p>
                                </div>
                            </div>

                            <div class="row mb-3">
                                @foreach (var item in Model.PropertyPhotos)
                                {

                                    <div class="col-sm-2">
                                        <img src="@item.Path" class="img-thumbnail">
                                        <a type="button" class="btn btn-danger btn-sm" onclick="deletePhoto(@item.Id)"><i
                                                class="bi bi-trash"></i></a>
                                    </div>

                                }
                            </div>
                            <input asp-for="PropertyId" hidden/>
                            @* <div class="row mb-3">
                                <label for="fromfile" class="col-sm-2 col-form-label">Fotoğraf Ekle</label>
                                <div class="col-sm-6">
                                    <input asp-for="FormFiles"  class="form-control" type="file" id="formFile" multiple>
                                </div>
                            </div> *@
                            <div class="row mb-3">
                                <div class="col-sm-10">
                                    <button type="submit" class="btn btn-primary">Ekle</button>
                                </div>
                            </div>
                        </form>

                        }
                        else{
                        <form class="needs-validation" asp-action="AddPropertyPhoto" method="post" enctype="multipart/form-data">
                            <input asp-for="PropertyId" hidden/>
                            <div class="row mb-3">
                                <label for="fromfile" class="col-sm-2 col-form-label">Fotoğrafları Yükle</label>
                                <div class="col-sm-6">
                                    <input asp-for="FormFiles"  class="form-control" type="file" id="formFile" multiple>

                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-sm-10">
                                    <button type="submit" class="btn btn-primary">Yükle</button>
                                </div>
                            </div>
                        </form>
                        }
                    </div>
                </div>
            </div>
        </div>
</section>